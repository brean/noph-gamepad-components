import{H as y,h as M,I as j,y as Y,J as $,K as ee,L as G,d as D,M as B,N as k,O as ne,P as re,Q as U,e as ae,R as F,S as E,T as L,U as fe,V as ie,W as le,X as q,Y as ue,Z as se,_ as oe,a0 as W,a1 as te,a2 as J,a3 as K,a4 as V,a5 as de,a6 as ve,a7 as pe,g as ce,q as he,a8 as ge,a9 as P,aa as _e,p as me,C as Ee,a as Ce}from"./rlaaCJwg.js";import"./Bgz2G3Qe.js";import{p as H}from"./B-uOi9va.js";import{G as Te,r as Ie,u as Ae}from"./ByoPMrqs.js";import{B as we}from"./Cq1DqHdv.js";function ke(e,r){return r}function Ne(e,r,l){for(var t=[],h=r.length,s,u=r.length,d=0;d<h;d++){let _=r[d];K(_,()=>{if(s){if(s.pending.delete(_),s.done.add(_),s.pending.size===0){var o=e.outrogroups;z(q(s.done)),o.delete(s),o.size===0&&(e.outrogroups=null)}}else u-=1},!1)}if(u===0){var a=t.length===0&&l!==null;if(a){var v=l,f=v.parentNode;ve(f),f.append(v),e.items.clear()}z(r,!a)}else s={pending:new Set(r),done:new Set},(e.outrogroups??=new Set).add(s)}function z(e,r=!0){for(var l=0;l<e.length;l++)pe(e[l],r)}var X;function De(e,r,l,t,h,s=null){var u=e,d=new Map,a=(r&P)!==0;if(a){var v=e;u=M?D(ce(v)):v.appendChild(F())}M&&j();var f=null,_=ie(()=>{var i=l();return le(i)?i:i==null?[]:q(i)}),o,c=!0;function T(){n.fallback=f,Se(n,o,u,r,t),f!==null&&(o.length===0?(f.f&E)===0?J(f):(f.f^=E,O(f,null,u)):K(f,()=>{f=null}))}var w=y(()=>{o=Y(_);var i=o.length;let N=!1;if(M){var S=$(u)===ee;S!==(i===0)&&(u=G(),D(u),B(!1),N=!0)}for(var m=new Set,I=ae,b=fe(),g=0;g<i;g+=1){M&&k.nodeType===ne&&k.data===re&&(u=k,N=!0,B(!1));var A=o[g],x=t(A,g),p=c?null:d.get(x);p?(p.v&&U(p.v,A),p.i&&U(p.i,g),b&&I.skipped_effects.delete(p.e)):(p=be(d,c?u:X??=F(),A,x,g,h,r,l),c||(p.e.f|=E),d.set(x,p)),m.add(x)}if(i===0&&s&&!f&&(c?f=L(()=>s(u)):(f=L(()=>s(X??=F())),f.f|=E)),M&&i>0&&D(G()),!c)if(b){for(const[Q,Z]of d)m.has(Q)||I.skipped_effects.add(Z.e);I.oncommit(T),I.ondiscard(()=>{})}else T();N&&B(!0),Y(_)}),n={effect:w,items:d,outrogroups:null,fallback:f};c=!1,M&&(u=k)}function R(e){for(;e!==null&&(e.f&de)===0;)e=e.next;return e}function Se(e,r,l,t,h){var s=(t&_e)!==0,u=r.length,d=e.items,a=R(e.effect.first),v,f=null,_,o=[],c=[],T,w,n,i;if(s)for(i=0;i<u;i+=1)T=r[i],w=h(T,i),n=d.get(w).e,(n.f&E)===0&&(n.nodes?.a?.measure(),(_??=new Set).add(n));for(i=0;i<u;i+=1){if(T=r[i],w=h(T,i),n=d.get(w).e,e.outrogroups!==null)for(const p of e.outrogroups)p.pending.delete(n),p.done.delete(n);if((n.f&E)!==0)if(n.f^=E,n===a)O(n,null,l);else{var N=f?f.next:a;n===e.effect.last&&(e.effect.last=n.prev),n.prev&&(n.prev.next=n.next),n.next&&(n.next.prev=n.prev),C(e,f,n),C(e,n,N),O(n,N,l),f=n,o=[],c=[],a=R(f.next);continue}if((n.f&V)!==0&&(J(n),s&&(n.nodes?.a?.unfix(),(_??=new Set).delete(n))),n!==a){if(v!==void 0&&v.has(n)){if(o.length<c.length){var S=c[0],m;f=S.prev;var I=o[0],b=o[o.length-1];for(m=0;m<o.length;m+=1)O(o[m],S,l);for(m=0;m<c.length;m+=1)v.delete(c[m]);C(e,I.prev,b.next),C(e,f,I),C(e,b,S),a=S,f=b,i-=1,o=[],c=[]}else v.delete(n),O(n,a,l),C(e,n.prev,n.next),C(e,n,f===null?e.effect.first:f.next),C(e,f,n),f=n;continue}for(o=[],c=[];a!==null&&a!==n;)(v??=new Set).add(a),c.push(a),a=R(a.next);if(a===null)continue}(n.f&E)===0&&o.push(n),f=n,a=R(n.next)}if(e.outrogroups!==null){for(const p of e.outrogroups)p.pending.size===0&&(z(q(p.done)),e.outrogroups?.delete(p));e.outrogroups.size===0&&(e.outrogroups=null)}if(a!==null||v!==void 0){var g=[];if(v!==void 0)for(n of v)(n.f&V)===0&&g.push(n);for(;a!==null;)(a.f&V)===0&&a!==e.fallback&&g.push(a),a=R(a.next);var A=g.length;if(A>0){var x=(t&P)!==0&&u===0?l:null;if(s){for(i=0;i<A;i+=1)g[i].nodes?.a?.measure();for(i=0;i<A;i+=1)g[i].nodes?.a?.fix()}Ne(e,g,x)}}s&&he(()=>{if(_!==void 0)for(n of _)n.nodes?.a?.apply()})}function be(e,r,l,t,h,s,u,d){var a=(u&ue)!==0?(u&se)===0?oe(l,!1,!1):W(l):null,v=(u&te)!==0?W(h):null;return{v:a,i:v,e:L(()=>(s(r,a??l,v??h,d),()=>{e.delete(t)}))}}function O(e,r,l){if(e.nodes)for(var t=e.nodes.start,h=e.nodes.end,s=r&&(r.f&E)===0?r.nodes.start:l;t!==null;){var u=ge(t);if(s.before(t),t===h)return;t=u}}function C(e,r,l){r===null?e.effect.first=l:r.next=l,l===null?e.effect.last=r:l.prev=r}function Be(e,r){me(r,!0);let l=H(r,"disabled",3,!1),t=H(r,"onpressed",3,void 0),h=H(r,"onhold",3,void 0),s=H(r,"onrelease",3,void 0),u=H(r,"inputMapping",19,()=>({name:"Help",gamepad:-1,buttons:[Te.VIEW],keys:["h"]})),d=H(r,"context",19,()=>["default"]);Ee(()=>{const a=new we(u(),void 0,!1,t(),h(),s());return a.disabled=l(),Ie(d(),a),()=>{a&&Ae(d(),a)}}),Ce()}export{Be as V,De as e,ke as i};
