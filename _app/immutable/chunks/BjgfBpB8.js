import{z as Z,h as x,A as y,m as G,B as j,C as $,H as ee,D as Y,d as O,E as k,F as D,G as ne,I as re,J as q,K as ae,L as B,M as E,N as z,O as fe,P as U,Q as ie,R as L,S as le,T as se,U as ue,V as oe,W as X,X as J,Y as V,Z as te,_ as de,$ as ve,g as pe,a0 as ce,a1 as K,a2 as he,p as ge,v as _e,a as me}from"./D8jIl551.js";import"./DXK2qSt1.js";import{p as H}from"./Ddrlydk6.js";import{G as Ee,r as Ce,u as Te}from"./6Ha0VMhs.js";import{B as Ie}from"./CT6ozZT_.js";function Re(n,r){return r}function Ae(n,r,l){for(var t=[],h=r.length,u,s=r.length,d=0;d<h;d++){let _=r[d];J(_,()=>{if(u){if(u.pending.delete(_),u.done.add(_),u.pending.size===0){var o=n.outrogroups;F(L(u.done)),o.delete(u),o.size===0&&(n.outrogroups=null)}}else s-=1},!1)}if(s===0){var a=t.length===0&&l!==null;if(a){var v=l,f=v.parentNode;de(f),f.append(v),n.items.clear()}F(r,!a)}else u={pending:new Set(r),done:new Set},(n.outrogroups??=new Set).add(u)}function F(n,r=!0){for(var l=0;l<n.length;l++)ve(n[l],r)}var W;function De(n,r,l,t,h,u=null){var s=n,d=new Map,a=(r&K)!==0;if(a){var v=n;s=x?O(pe(v)):v.appendChild(B())}x&&y();var f=null,_=j(()=>{var i=l();return le(i)?i:i==null?[]:L(i)}),o,c=!0;function T(){e.fallback=f,Se(e,o,s,r,t),f!==null&&(o.length===0?(f.f&E)===0?X(f):(f.f^=E,R(f,null,s)):J(f,()=>{f=null}))}var S=Z(()=>{o=G(_);var i=o.length;let w=!1;if(x){var M=$(s)===ee;M!==(i===0)&&(s=Y(),O(s),k(!1),w=!0)}for(var m=new Set,I=ae,N=fe(),g=0;g<i;g+=1){x&&D.nodeType===ne&&D.data===re&&(s=D,w=!0,k(!1));var A=o[g],b=t(A,g),p=c?null:d.get(b);p?(p.v&&q(p.v,A),p.i&&q(p.i,g),N&&I.skipped_effects.delete(p.e)):(p=we(d,c?s:W??=B(),A,b,g,h,r,l),c||(p.e.f|=E),d.set(b,p)),m.add(b)}if(i===0&&u&&!f&&(c?f=z(()=>u(s)):(f=z(()=>u(W??=B())),f.f|=E)),x&&i>0&&O(Y()),!c)if(N){for(const[P,Q]of d)m.has(P)||I.skipped_effects.add(Q.e);I.oncommit(T),I.ondiscard(()=>{})}else T();w&&k(!0),G(_)}),e={effect:S,items:d,outrogroups:null,fallback:f};c=!1,x&&(s=D)}function Se(n,r,l,t,h){var u=(t&he)!==0,s=r.length,d=n.items,a=n.effect.first,v,f=null,_,o=[],c=[],T,S,e,i;if(u)for(i=0;i<s;i+=1)T=r[i],S=h(T,i),e=d.get(S).e,(e.f&E)===0&&(e.nodes?.a?.measure(),(_??=new Set).add(e));for(i=0;i<s;i+=1){if(T=r[i],S=h(T,i),e=d.get(S).e,n.outrogroups!==null)for(const p of n.outrogroups)p.pending.delete(e),p.done.delete(e);if((e.f&E)!==0)if(e.f^=E,e===a)R(e,null,l);else{var w=f?f.next:a;e===n.effect.last&&(n.effect.last=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),C(n,f,e),C(n,e,w),R(e,w,l),f=e,o=[],c=[],a=f.next;continue}if((e.f&V)!==0&&(X(e),u&&(e.nodes?.a?.unfix(),(_??=new Set).delete(e))),e!==a){if(v!==void 0&&v.has(e)){if(o.length<c.length){var M=c[0],m;f=M.prev;var I=o[0],N=o[o.length-1];for(m=0;m<o.length;m+=1)R(o[m],M,l);for(m=0;m<c.length;m+=1)v.delete(c[m]);C(n,I.prev,N.next),C(n,f,I),C(n,N,M),a=M,f=N,i-=1,o=[],c=[]}else v.delete(e),R(e,a,l),C(n,e.prev,e.next),C(n,e,f===null?n.effect.first:f.next),C(n,f,e),f=e;continue}for(o=[],c=[];a!==null&&a!==e;)(v??=new Set).add(a),c.push(a),a=a.next;if(a===null)continue}(e.f&E)===0&&o.push(e),f=e,a=e.next}if(n.outrogroups!==null){for(const p of n.outrogroups)p.pending.size===0&&(F(L(p.done)),n.outrogroups?.delete(p));n.outrogroups.size===0&&(n.outrogroups=null)}if(a!==null||v!==void 0){var g=[];if(v!==void 0)for(e of v)(e.f&V)===0&&g.push(e);for(;a!==null;)(a.f&V)===0&&a!==n.fallback&&g.push(a),a=a.next;var A=g.length;if(A>0){var b=(t&K)!==0&&s===0?l:null;if(u){for(i=0;i<A;i+=1)g[i].nodes?.a?.measure();for(i=0;i<A;i+=1)g[i].nodes?.a?.fix()}Ae(n,g,b)}}u&&ce(()=>{if(_!==void 0)for(e of _)e.nodes?.a?.apply()})}function we(n,r,l,t,h,u,s,d){var a=(s&se)!==0?(s&ue)===0?ie(l,!1,!1):U(l):null,v=(s&oe)!==0?U(h):null;return{v:a,i:v,e:z(()=>(u(r,a??l,v??h,d),()=>{n.delete(t)}))}}function R(n,r,l){if(n.nodes)for(var t=n.nodes.start,h=n.nodes.end,u=r&&(r.f&E)===0?r.nodes.start:l;t!==null;){var s=te(t);if(u.before(t),t===h)return;t=s}}function C(n,r,l){r===null?n.effect.first=l:r.next=l,l===null?n.effect.last=r:l.prev=r}function Oe(n,r){ge(r,!0);let l=H(r,"disabled",3,!1),t=H(r,"onpressed",3,void 0),h=H(r,"onhold",3,void 0),u=H(r,"onrelease",3,void 0),s=H(r,"inputMapping",19,()=>({name:"Help",gamepad:-1,buttons:[Ee.VIEW],keys:["h"]})),d=H(r,"context",19,()=>["default"]);_e(()=>{const a=new Ie(s(),void 0,!1,t(),h(),u());return a.disabled=l(),Ce(d(),a),()=>{a&&Te(d(),a)}}),me()}export{Oe as V,De as e,Re as i};
